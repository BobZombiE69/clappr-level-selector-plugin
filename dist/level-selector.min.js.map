{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///level-selector.min.js","webpack:///webpack/bootstrap ef1daf9501ae12b4b881","webpack:///./index.js","webpack:///./src/main.js","webpack:///external \"Clappr\"","webpack:///./src/public/level-selector.html","webpack:///./src/public/style.scss","webpack:///./~/css-loader/lib/css-base.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","_Clappr","_levelSelector","_levelSelector2","_style","_style2","LevelSelector","_UICorePlugin","core","_this","getPrototypeOf","init","render","get","template","class","name","data-level-selector","click [data-level-selector-select]","click [data-level-selector-button]","levels","auto_level","selected_level","unBindEvents","bindEvents","_this2","listenTo","mediaControl","Events","MEDIACONTROL_CONTAINERCHANGED","reload","MEDIACONTROL_RENDERED","listenToOnce","getPlayback","PLAYBACK_FRAGMENT_LOADED","onFragmentLoaded","getContainer","CONTAINER_BITRATE","bitrate","onLevelChanged","level","stopListening","isEnabled","$el","html","current_level","title","getTitle","style","Styler","getStyleFor","baseUrl","options","append","find","el","updateText","currentLevel","playback","label","getDisplayText","undefined","selectedIsCurrent","stopAnimation","event","parseInt","dataset","levelSelectorSelect","setLevel","toggleContextMenu","startAnimation","stopPropagation","toggle","getCurrentContainer","buttonElement","addClass","removeClass","arguments","getCurrentLevel","pluginOptions","levelSelectorConfig","bitrate_kbps","Math","floor","labels","display_text","text","UICorePlugin","window","push","list","toString","result","item","join","mediaQuery","alreadyImportedModules"],"mappings":"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","file":"level-selector.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Clappr\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Clappr\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LevelSelector\"] = factory(require(\"Clappr\"));\n\telse\n\t\troot[\"LevelSelector\"] = factory(root[\"Clappr\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Clappr\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Clappr\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LevelSelector\"] = factory(require(\"Clappr\"));\n\telse\n\t\troot[\"LevelSelector\"] = factory(root[\"Clappr\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"<%=baseUrl%>/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = __webpack_require__(1);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _Clappr = __webpack_require__(2);\n\t\n\tvar _levelSelector = __webpack_require__(3);\n\t\n\tvar _levelSelector2 = _interopRequireDefault(_levelSelector);\n\t\n\tvar _style = __webpack_require__(4);\n\t\n\tvar _style2 = _interopRequireDefault(_style);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar LevelSelector = (function (_UICorePlugin) {\n\t  _inherits(LevelSelector, _UICorePlugin);\n\t\n\t  _createClass(LevelSelector, [{\n\t    key: 'name',\n\t    get: function get() {\n\t      return 'level_selector';\n\t    }\n\t  }, {\n\t    key: 'template',\n\t    get: function get() {\n\t      return (0, _Clappr.template)(_levelSelector2.default);\n\t    }\n\t  }, {\n\t    key: 'attributes',\n\t    get: function get() {\n\t      return {\n\t        'class': this.name,\n\t        'data-level-selector': ''\n\t      };\n\t    }\n\t  }, {\n\t    key: 'events',\n\t    get: function get() {\n\t      return {\n\t        'click [data-level-selector-select]': 'onLevelSelect',\n\t        'click [data-level-selector-button]': 'onShowLevelSelectMenu'\n\t      };\n\t    }\n\t  }], [{\n\t    key: 'version',\n\t    get: function get() {\n\t      return (\"0.1.0\");\n\t    }\n\t  }]);\n\t\n\t  function LevelSelector(core) {\n\t    _classCallCheck(this, LevelSelector);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(LevelSelector).call(this, core));\n\t\n\t    _this.init();\n\t    _this.render();\n\t    return _this;\n\t  }\n\t\n\t  _createClass(LevelSelector, [{\n\t    key: 'init',\n\t    value: function init() {\n\t      this.levels = {};\n\t      this.auto_level = true;\n\t      this.selected_level = -1;\n\t    }\n\t  }, {\n\t    key: 'reload',\n\t    value: function reload() {\n\t      this.unBindEvents();\n\t      this.init();\n\t      this.bindEvents();\n\t    }\n\t  }, {\n\t    key: 'bindEvents',\n\t    value: function bindEvents() {\n\t      var _this2 = this;\n\t\n\t      this.listenTo(this.core.mediaControl, _Clappr.Events.MEDIACONTROL_CONTAINERCHANGED, this.reload);\n\t      this.listenTo(this.core.mediaControl, _Clappr.Events.MEDIACONTROL_RENDERED, this.render);\n\t      this.listenToOnce(this.getPlayback(), _Clappr.Events.PLAYBACK_FRAGMENT_LOADED, this.onFragmentLoaded);\n\t      this.listenTo(this.getContainer(), _Clappr.Events.CONTAINER_BITRATE, function (bitrate) {\n\t        return _this2.onLevelChanged(bitrate.level);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'unBindEvents',\n\t    value: function unBindEvents() {\n\t      this.stopListening(this.core.mediaControl, _Clappr.Events.MEDIACONTROL_CONTAINERCHANGED);\n\t      this.stopListening(this.core.mediaControl, _Clappr.Events.MEDIACONTROL_RENDERED);\n\t      this.stopListening(this.getContainer(), _Clappr.Events.CONTAINER_BITRATE);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      if (this.isEnabled()) {\n\t        this.$el.html(this.template({ 'levels': this.levels, 'current_level': 0, 'title': this.getTitle() }));\n\t        var style = _Clappr.Styler.getStyleFor(_style2.default, { baseUrl: this.core.options.baseUrl });\n\t        this.$el.append(style);\n\t        this.core.mediaControl.$el.find('.media-control-right-panel').append(this.el);\n\t        this.updateText(this.currentLevel);\n\t        return this;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'isEnabled',\n\t    value: function isEnabled() {\n\t      return this.levels;\n\t    }\n\t  }, {\n\t    key: 'onFragmentLoaded',\n\t    value: function onFragmentLoaded() {\n\t      this.levels = this.getContainer().playback.levels;\n\t\n\t      for (var i in this.levels) {\n\t        this.levels[i].label = this.getDisplayText(this.levels[i].bitrate);\n\t      }\n\t\n\t      this.render();\n\t    }\n\t  }, {\n\t    key: 'onLevelChanged',\n\t    value: function onLevelChanged(level) {\n\t      if (level !== undefined) {\n\t        this.currentLevel = level;\n\t        this.updateText(level);\n\t        if (this.auto_level || this.selectedIsCurrent(level)) {\n\t          this.stopAnimation();\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onLevelSelect',\n\t    value: function onLevelSelect(event) {\n\t      this.selected_level = parseInt(event.target.dataset.levelSelectorSelect, 10);\n\t      this.auto_level = this.selected_level === -1;\n\t      this.setLevel(this.selected_level);\n\t      this.toggleContextMenu();\n\t      if (this.auto_level || this.selectedIsCurrent()) {\n\t        this.updateText(this.selected_level);\n\t      } else {\n\t        this.startAnimation();\n\t        this.updateText(this.selected_level);\n\t      }\n\t      event.stopPropagation();\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'onShowLevelSelectMenu',\n\t    value: function onShowLevelSelectMenu(event) {\n\t      this.toggleContextMenu();\n\t    }\n\t  }, {\n\t    key: 'toggleContextMenu',\n\t    value: function toggleContextMenu() {\n\t      this.$el.find('.level_selector ul').toggle();\n\t    }\n\t  }, {\n\t    key: 'getContainer',\n\t    value: function getContainer() {\n\t      return this.core.getCurrentContainer();\n\t    }\n\t  }, {\n\t    key: 'getPlayback',\n\t    value: function getPlayback() {\n\t      if (this.getContainer()) {\n\t        return this.getContainer().playback;\n\t      }\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'getCurrentLevel',\n\t    value: function getCurrentLevel() {\n\t      return this.currentLevel = this.currentLevel || this.getPlayback().currentLevel;\n\t    }\n\t  }, {\n\t    key: 'setLevel',\n\t    value: function setLevel(level) {\n\t      this.getPlayback().currentLevel = level;\n\t    }\n\t  }, {\n\t    key: 'buttonElement',\n\t    value: function buttonElement() {\n\t      return this.$el.find('.level_selector button');\n\t    }\n\t  }, {\n\t    key: 'startAnimation',\n\t    value: function startAnimation() {\n\t      this.buttonElement().addClass('changing');\n\t    }\n\t  }, {\n\t    key: 'stopAnimation',\n\t    value: function stopAnimation() {\n\t      this.buttonElement().removeClass('changing');\n\t    }\n\t  }, {\n\t    key: 'selectedIsCurrent',\n\t    value: function selectedIsCurrent() {\n\t      var currentLevel = arguments.length <= 0 || arguments[0] === undefined ? this.getCurrentLevel() : arguments[0];\n\t\n\t      return this.selected_level === currentLevel;\n\t    }\n\t  }, {\n\t    key: 'getTitle',\n\t    value: function getTitle() {\n\t      var pluginOptions = this.core.options.levelSelectorConfig || {};\n\t      return pluginOptions.title;\n\t    }\n\t  }, {\n\t    key: 'getDisplayText',\n\t    value: function getDisplayText(bitrate) {\n\t      var bitrate_kbps = Math.floor(bitrate / 1000);\n\t      var pluginOptions = this.core.options.levelSelectorConfig || {};\n\t      var levels = pluginOptions.labels || {};\n\t\n\t      return levels[bitrate_kbps] || bitrate_kbps + 'kbps';\n\t    }\n\t  }, {\n\t    key: 'updateText',\n\t    value: function updateText(level) {\n\t      if (level === undefined || level === -1) {\n\t        level = this.getCurrentLevel();\n\t      }\n\t      if (this.levels[level]) {\n\t        var display_text = this.levels[level].label;\n\t\n\t        if (this.auto_level) {\n\t          display_text = 'AUTO (' + display_text + ')';\n\t        }\n\t        this.buttonElement().text(display_text);\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return LevelSelector;\n\t})(_Clappr.UICorePlugin);\n\t\n\tmodule.exports = window.LevelSelector = LevelSelector;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<button data-level-selector-button>Auto</button><ul><% if (title) { %><li data-title><%= title %></li><% }; %><li><a href=# data-level-selector-select=-1>AUTO</a></li><% for (var i = 0; i < levels.length; i++) { %><li><a href=# data-level-selector-select=\\\"<%= i %>\\\"><%= levels[i].label %></a></li><% }; %></ul>\";\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(5)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".level_selector[data-level-selector]{float:right;margin-top:5px;position:relative}.level_selector[data-level-selector] button{background-color:transparent;color:#fff;font-family:Roboto,Open Sans,Arial,sans-serif;-webkit-font-smoothing:antialiased;border:none;font-size:10px}.level_selector[data-level-selector] button:hover{color:#c9c9c9}.level_selector[data-level-selector] button.changing{-webkit-animation:pulse .5s infinite alternate}.level_selector[data-level-selector]>ul{list-style-type:none;position:absolute;bottom:25px;border:1px solid #000;display:none;background-color:#e6e6e6}.level_selector[data-level-selector] li{font-size:10px}.level_selector[data-level-selector] li[data-title]{background-color:#c3c2c2;padding:5px}.level_selector[data-level-selector] li a{color:#444;padding:2px 10px;display:block;text-decoration:none}.level_selector[data-level-selector] li a:hover{background-color:#555;color:#fff}.level_selector[data-level-selector] li a:hover a{color:#fff;text-decoration:none}@-webkit-keyframes pulse{0%{color:#fff}50%{color:#ff0101}to{color:#b80000}}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\n\t// css base code, injected by the css-loader\n\tmodule.exports = function () {\n\t\tvar list = [];\n\t\n\t\t// return the list of modules as css string\n\t\tlist.toString = function toString() {\n\t\t\tvar result = [];\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tvar item = this[i];\n\t\t\t\tif (item[2]) {\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(item[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result.join(\"\");\n\t\t};\n\t\n\t\t// import a list of modules into the list\n\t\tlist.i = function (modules, mediaQuery) {\n\t\t\tif (typeof modules === \"string\") modules = [[null, modules, \"\"]];\n\t\t\tvar alreadyImportedModules = {};\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tvar id = this[i][0];\n\t\t\t\tif (typeof id === \"number\") alreadyImportedModules[id] = true;\n\t\t\t}\n\t\t\tfor (i = 0; i < modules.length; i++) {\n\t\t\t\tvar item = modules[i];\n\t\t\t\t// skip already imported module\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\t\tif (typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\t\tif (mediaQuery && !item[2]) {\n\t\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t\t} else if (mediaQuery) {\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t\t}\n\t\t\t\t\tlist.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn list;\n\t};\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** level-selector.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"<%=baseUrl%>/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ef1daf9501ae12b4b881\n **/","module.exports = require('./src/main.js')\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.js\n **/","import {Events, Styler, UICorePlugin, template} from 'Clappr'\nimport pluginHtml from './public/level-selector.html'\nimport pluginStyle from './public/style.scss'\n\nclass LevelSelector extends UICorePlugin {\n\n  static get version() { return VERSION }\n\n  get name() { return 'level_selector' }\n  get template() { return template(pluginHtml) }\n\n  get attributes() {\n    return {\n      'class': this.name,\n      'data-level-selector': ''\n    }\n  }\n\n  get events() {\n    return {\n      'click [data-level-selector-select]': 'onLevelSelect',\n      'click [data-level-selector-button]': 'onShowLevelSelectMenu'\n    }\n  }\n\n  constructor(core) {\n    super(core)\n    this.init()\n    this.render()\n  }\n\n  init() {\n    this.levels = {}\n    this.auto_level = true\n    this.selected_level = -1\n  }\n\n  reload() {\n    this.unBindEvents()\n    this.init()\n    this.bindEvents()\n  }\n\n  bindEvents() {\n    this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_CONTAINERCHANGED, this.reload)\n    this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_RENDERED, this.render)\n    this.listenToOnce(this.getPlayback(), Events.PLAYBACK_FRAGMENT_LOADED, this.onFragmentLoaded)\n    this.listenTo(this.getContainer(), Events.CONTAINER_BITRATE, (bitrate) => this.onLevelChanged(bitrate.level))\n  }\n\n  unBindEvents() {\n    this.stopListening(this.core.mediaControl, Events.MEDIACONTROL_CONTAINERCHANGED)\n    this.stopListening(this.core.mediaControl, Events.MEDIACONTROL_RENDERED)\n    this.stopListening(this.getContainer(), Events.CONTAINER_BITRATE)\n  }\n\n  render() {\n    if (this.isEnabled()) {\n      this.$el.html(this.template({'levels':this.levels, 'current_level': 0, 'title': this.getTitle()}))\n      var style = Styler.getStyleFor(pluginStyle, {baseUrl: this.core.options.baseUrl})\n      this.$el.append(style)\n      this.core.mediaControl.$el.find('.media-control-right-panel').append(this.el)\n      this.updateText(this.currentLevel)\n      return this\n    }\n  }\n\n  isEnabled() {\n    return this.levels\n  }\n\n  onFragmentLoaded() {\n    this.levels = this.getContainer().playback.levels\n\n    for (var i in this.levels) {\n      this.levels[i].label = this.getDisplayText(this.levels[i].bitrate)\n    }\n\n    this.render()\n  }\n\n  onLevelChanged(level) {\n    if (level !== undefined) {\n      this.currentLevel = level\n      this.updateText(level)\n      if (this.auto_level || this.selectedIsCurrent(level)) {\n        this.stopAnimation()\n      }\n    }\n  }\n\n  onLevelSelect(event) {\n    this.selected_level = parseInt(event.target.dataset.levelSelectorSelect, 10)\n    this.auto_level = (this.selected_level === -1)\n    this.setLevel(this.selected_level)\n    this.toggleContextMenu()\n    if (this.auto_level || this.selectedIsCurrent()) {\n      this.updateText(this.selected_level)\n    } else {\n      this.startAnimation()\n      this.updateText(this.selected_level)\n    }\n    event.stopPropagation()\n    return false\n  }\n\n  onShowLevelSelectMenu(event) {\n    this.toggleContextMenu()\n  }\n\n  toggleContextMenu() {\n    this.$el.find('.level_selector ul').toggle()\n  }\n\n  getContainer() {\n    return this.core.getCurrentContainer()\n  }\n\n  getPlayback() {\n    if (this.getContainer()) {\n      return this.getContainer().playback\n    }\n    return null\n  }\n\n  getCurrentLevel() {\n    return this.currentLevel = (this.currentLevel || this.getPlayback().currentLevel)\n  }\n\n  setLevel(level) {\n    this.getPlayback().currentLevel = level\n  }\n\n  buttonElement() {\n    return this.$el.find('.level_selector button')\n  }\n\n  startAnimation() {\n    this.buttonElement().addClass('changing')\n  }\n\n  stopAnimation() {\n    this.buttonElement().removeClass('changing')\n  }\n\n  selectedIsCurrent(currentLevel = this.getCurrentLevel()) {\n    return (this.selected_level === currentLevel)\n  }\n\n  getTitle() {\n    var pluginOptions = this.core.options.levelSelectorConfig || {}\n    return pluginOptions.title\n  }\n\n  getDisplayText(bitrate) {\n    var bitrate_kbps = Math.floor(bitrate / 1000)\n    var pluginOptions = this.core.options.levelSelectorConfig || {}\n    var levels = pluginOptions.labels || {}\n\n    return levels[bitrate_kbps] || bitrate_kbps + 'kbps'\n  }\n\n  updateText(level) {\n    if (level === undefined || level === -1) {\n      level = this.getCurrentLevel()\n    }\n    if (this.levels[level]) {\n      var display_text = this.levels[level].label\n\n      if (this.auto_level) {\n        display_text = 'AUTO (' + display_text + ')'\n      }\n      this.buttonElement().text(display_text)\n    }\n  }\n}\n\nmodule.exports = window.LevelSelector = LevelSelector\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Clappr\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = \"<button data-level-selector-button>Auto</button><ul><% if (title) { %><li data-title><%= title %></li><% }; %><li><a href=# data-level-selector-select=-1>AUTO</a></li><% for (var i = 0; i < levels.length; i++) { %><li><a href=# data-level-selector-select=\\\"<%= i %>\\\"><%= levels[i].label %></a></li><% }; %></ul>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/public/level-selector.html\n ** module id = 3\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".level_selector[data-level-selector]{float:right;margin-top:5px;position:relative}.level_selector[data-level-selector] button{background-color:transparent;color:#fff;font-family:Roboto,Open Sans,Arial,sans-serif;-webkit-font-smoothing:antialiased;border:none;font-size:10px}.level_selector[data-level-selector] button:hover{color:#c9c9c9}.level_selector[data-level-selector] button.changing{-webkit-animation:pulse .5s infinite alternate}.level_selector[data-level-selector]>ul{list-style-type:none;position:absolute;bottom:25px;border:1px solid #000;display:none;background-color:#e6e6e6}.level_selector[data-level-selector] li{font-size:10px}.level_selector[data-level-selector] li[data-title]{background-color:#c3c2c2;padding:5px}.level_selector[data-level-selector] li a{color:#444;padding:2px 10px;display:block;text-decoration:none}.level_selector[data-level-selector] li a:hover{background-color:#555;color:#fff}.level_selector[data-level-selector] li a:hover a{color:#fff;text-decoration:none}@-webkit-keyframes pulse{0%{color:#fff}50%{color:#ff0101}to{color:#b80000}}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/public/style.scss\n ** module id = 4\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/css-loader/lib/css-base.js\n **/"],"sourceRoot":""}